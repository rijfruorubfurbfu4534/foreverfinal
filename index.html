<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Vaishnavi ‚ù§Ô∏è</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body {
  height: 100vh;
  margin: 0;
  overflow: hidden;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff6a88, #ff99ac);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* CARD */
.card {
  backdrop-filter: blur(15px);
  background: rgba(255,255,255,0.18);
  padding: 40px;
  border-radius: 25px;
  box-shadow: 0 0 40px rgba(0,0,0,0.25);
  position: relative;
  z-index: 5;
  width: 360px;
  transition: opacity 0.6s ease;
}

h1 {
  margin-bottom: 25px;
  font-size: 22px;
  min-height: 80px;
  color: white;
}

/* BUTTONS */
.buttons {
  position: relative;
  width: 100%;
  height: 200px;
}

button {
  padding: 14px 28px;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  position: absolute;
  cursor: pointer;
  transition: all 0.25s ease;
}

/* YES BUTTON */
.yes {
  background: #ff1e56;
  color: white;
  left: 50%;
  bottom: 15px;
  transform: translateX(-50%) scale(1);
  animation: pulse 1.6s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(255,30,86,0.7); }
  70% { box-shadow: 0 0 0 18px rgba(255,30,86,0); }
  100% { box-shadow: 0 0 0 0 rgba(255,30,86,0); }
}

/* EXTRA BIG IN STAGE 3 */
.stage3-yes {
  font-size: 22px;
  animation: crazyPulse 1s infinite;
}

@keyframes crazyPulse {
  0% { transform: translateX(-50%) scale(1.2); }
  50% { transform: translateX(-50%) scale(1.5); }
  100% { transform: translateX(-50%) scale(1.2); }
}

/* NO BUTTON */
.no {
  background: #333;
  color: white;
  left: 50%;
  top: 15px;
  transform: translateX(-50%) scale(1);
}

/* HEARTS (MORE CHAOTIC) */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 20px;
  animation: floatUp 5s linear forwards;
  opacity: 0.9;
  z-index: 0;
  pointer-events: none;
}

@keyframes floatUp {
  from { transform: translateY(0); opacity: 1; }
  to { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
}

/* FINAL OVERLAY */
#finalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  opacity: 0;
  transition: opacity 1.2s ease;
  z-index: 10;
  pointer-events: none;
}

#finalOverlay.show {
  opacity: 1;
  pointer-events: auto;
}

#lovePhoto {
  width: 360px;
  border-radius: 20px;
  box-shadow: 0 25px 80px rgba(0,0,0,0.6);
}

#finalText {
  margin-top: 20px;
  color: white;
  font-size: 18px;
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1 id="question">Vaishnavi Alur, will you be my Valentine? üòå</h1>

  <div class="buttons">
    <button id="noBtn" class="no">No üôÑ</button>
    <button id="yesBtn" class="yes">Yes obviously üíÖ</button>
  </div>
</div>

<div id="finalOverlay">
  <img id="lovePhoto" src="forever.png" alt="Forever">
  <div id="finalText">Hereafter, Vaishnavi Alur, you're my forever.</div>
</div>

<audio id="bgMusic">
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
let stage = 1;
let scaleNo = 1;
let scaleYes = 1;

const question = document.getElementById("question");
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const card = document.getElementById("card");
const finalOverlay = document.getElementById("finalOverlay");
const bgMusic = document.getElementById("bgMusic");

/* MORE HEARTS */
function createHeart() {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.textContent = "üíñ";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = (Math.random() * 25 + 15) + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 5000);
}
setInterval(createHeart, 180);

/* RUNNING NO */
function moveNo() {
  const x = Math.random() * (window.innerWidth - 120);
  const y = Math.random() * (window.innerHeight - 60);

  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  if (stage < 3) {
    scaleNo -= 0.015;
    if (scaleNo < 0.3) scaleNo = 0.3;
    noBtn.style.transform = `scale(${scaleNo})`;
  }

  scaleYes += 0.2;
  yesBtn.style.transform = `translateX(-50%) scale(${scaleYes})`;
}
noBtn.addEventListener("mouseover", moveNo);

/* YES FLOW */
yesBtn.addEventListener("click", () => {

  if (stage === 1) {
    stage = 2;
    question.textContent = "Like‚Ä¶ forever forever? üëÄ";
    noBtn.style.left = "50%";
    noBtn.style.top = "15px";
    noBtn.style.transform = "translateX(-50%) scale(1)";
    yesBtn.style.transform = "translateX(-50%) scale(1)";
  }

  else if (stage === 2) {
    stage = 3;
    question.textContent = "Are you 100% sure? No refunds. No returns. üòè";
    yesBtn.textContent = "I'm VERY sure üò§‚ù§Ô∏è";
    yesBtn.classList.add("stage3-yes");
  }

  else if (stage === 3) {

    bgMusic.volume = 0;
    bgMusic.play().catch(() => {});
    card.style.opacity = "0";

    setTimeout(() => {
      finalOverlay.classList.add("show");

      let fade = setInterval(() => {
        if (bgMusic.volume < 1) {
          bgMusic.volume += 0.05;
        } else {
          clearInterval(fade);
        }
      }, 100);

      confetti({
        particleCount: 400,
        spread: 140,
        origin: { y: 0.6 }
      });

    }, 800);
  }
});
</script>

</body>
</html>
